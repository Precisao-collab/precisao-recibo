# ============================================
# Configurações OTIMIZADAS para EC2 t3.micro (1 GB RAM)
# ============================================
# ⚠️ Use este profile apenas para instâncias t3.micro
# ⚠️ Para usar: java -jar app.jar --spring.profiles.active=t3micro
# ============================================

spring.application.name=recibo

# Gmail SMTP Configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${SPRING_MAIL_USERNAME:noreplyreciboprecisao@gmail.com}
spring.mail.password=${SPRING_MAIL_PASSWORD:hfqb fhnt rsit mwsd}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
# Timeouts reduzidos para economizar recursos
spring.mail.properties.mail.smtp.connectiontimeout=3000
spring.mail.properties.mail.smtp.timeout=3000
spring.mail.properties.mail.smtp.writetimeout=3000

# Email Configuration
app.email.remetente=${APP_EMAIL_REMETENTE:noreplyreciboprecisao@gmail.com}
app.email.nome-remetente=${APP_EMAIL_NOME_REMETENTE:Sistema de Recibos - Precisao}

# Backend URL for QR Code
app.backend.url=${APP_BACKEND_URL:https://precisao-recibo.onrender.com}

# API Externa - Empreendimentos (Credenciais Protegidas)
api.empreendimento.url=https://services.livefacilities.com.br/mobile/api/Empreendimento/EmpreendimentoLista
api.empreendimento.nm_sistema=${API_EMPREENDIMENTO_NM_SISTEMA:PRE}
api.empreendimento.id_pessoafisica=${API_EMPREENDIMENTO_ID_PESSOAFISICA:2091}
api.empreendimento.id_sessao=${API_EMPREENDIMENTO_ID_SESSAO:f81b72d3-ab99-4078-9d03-77a4d9051420}
api.empreendimento.id_chavedispositivo=${API_EMPREENDIMENTO_ID_CHAVEDISPOSITIVO:api}

# API Externa - Validação de CPF
api.cpf.validacao.url=${API_CPF_VALIDACAO_URL:https://api.receitaws.com.br/v1/cpf}

# Configurações de Thread Pool otimizadas para baixa memória
server.tomcat.threads.max=50
server.tomcat.threads.min-spare=5
server.tomcat.max-connections=200
server.tomcat.accept-count=50

# Configurações de cache reduzidas
spring.cache.type=simple
spring.cache.cache-names=empreendimentos

# Logging otimizado (menos verboso)
logging.level.root=INFO
logging.level.com.precisao.recibo=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate=WARN

# Desabilitar recursos não essenciais
management.endpoints.enabled-by-default=false
management.endpoint.health.enabled=true
management.endpoint.info.enabled=false

